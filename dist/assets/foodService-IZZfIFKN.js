import{s as u}from"./index-yDciBRsX.js";const c=20;async function l(e,r=0,t=null){if(!e||e.trim().length<2)return{data:[],hasMore:!1,total:0};const a=r*c,s=c;try{let o=u.from("foods").select("id, name, group, description, source, calories, protein, carbs, fat, fiber, sodium, food_measures(*)",{count:"exact"}).eq("is_active",!0).ilike("name",`%${e.trim()}%`).order("name",{ascending:!0}).range(a,a+s-1);t&&(o=o.eq("source",t));const{data:d,error:n,count:i}=await o;if(n)throw n;return{data:d||[],hasMore:a+s<(i||0),total:i||0}}catch(o){throw console.error("Error searching foods:",o),o}}async function m(e){try{const{data:r,error:t}=await u.from("foods").insert([e]).select("id, name, group, description, source, calories, protein, carbs, fat, fiber, sodium, portion_size").single();if(t)throw t;return{data:r,error:null}}catch(r){return console.error("Error creating food:",r),{data:null,error:r}}}export{m as c,l as s};
