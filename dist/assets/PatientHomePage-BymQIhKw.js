import{q as J,b as W,r as o,j as e,B as v,E as te,u as G,C as f,e as g,m as p,c as N,d as b,s as S,a4 as K,F as I,aw as ae,g as re,R as ie,w as O,ax as $,ay as ne}from"./index-BvWB-6Y-.js";import{t as le,a as oe}from"./mealTranslations-B1KHhmEq.js";import{C as ce}from"./check-circle-2-DqvAHxH6.js";import{C as de}from"./clock-BDxmKYor.js";import{P as me}from"./plus-BWNKYoo4.js";import{C as xe}from"./chevron-left-FDyjizdT.js";import{A as U}from"./activity-CbrTkNiD.js";import{S as ue}from"./scale-B02K6JBe.js";import{D as Q}from"./droplet-BdKopZMO.js";import{T as H}from"./trending-up-DCN4wKoA.js";import{T as he}from"./trending-down-Be-17Tpn.js";import{M as pe}from"./minus-Doq1nRnQ.js";import{P as fe}from"./progress-Di_AUcQX.js";import{F as X}from"./flame-DbwLYwhx.js";import{B as ge,W as je,u as ye}from"./useNotifications-DioZYdve.js";import{A as V}from"./award-CmPEDryx.js";import{S as Ne}from"./star-H_iWe321.js";import{T as be}from"./target-Bs9FM_-p.js";import{p as B}from"./pt-BR-BMtVLtF7.js";import"./food-diary-queries-Q2rJq5H2.js";import"./date-C2sroe8F.js";import"./query-helpers-mbysFH2_.js";import"./observability-queries-BxbsnaqH.js";const ve=J("CalendarClock",[["path",{d:"M21 7.5V6a2 2 0 0 0-2-2H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h3.5",key:"1osxxc"}],["path",{d:"M16 2v4",key:"4m81vk"}],["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M3 10h5",key:"r794hk"}],["path",{d:"M17.5 17.5 16 16.25V14",key:"re2vv1"}],["path",{d:"M22 16a6 6 0 1 1-12 0 6 6 0 0 1 12 0Z",key:"ame013"}]]),R=J("UtensilsCrossed",[["path",{d:"m16 2-2.3 2.3a3 3 0 0 0 0 4.2l1.8 1.8a3 3 0 0 0 4.2 0L22 8",key:"n7qcjb"}],["path",{d:"M15 15 3.3 3.3a4.2 4.2 0 0 0 0 6l7.3 7.3c.7.7 2 .7 2.8 0L15 15Zm0 0 7 7",key:"d0u48b"}],["path",{d:"m2.1 21.8 6.4-6.3",key:"yn04lh"}],["path",{d:"m19 5-7 7",key:"194lzd"}]]),we=({mealPlanMeals:s,registeredMeals:t=[]})=>{const i=W(),[m,l]=o.useState(0),c=o.useMemo(()=>!s||s.length===0?[]:s.filter(a=>a.meal_time).map(a=>{const u=a.meal_time.split(":"),h=parseInt(u[0])*60+parseInt(u[1]);return{...a,mealMinutes:h,timeStr:`${u[0]}:${u[1]}`}}).sort((a,u)=>a.mealMinutes-u.mealMinutes),[s]),n=o.useMemo(()=>{if(c.length===0)return 0;const x=new Date,a=x.getHours()*60+x.getMinutes(),u=new Set(t.map(h=>h.meal_type));for(let h=0;h<c.length;h++){const M=c[h];if(u.has(M.meal_type))continue;if(M.mealMinutes>a)return h;const P=c[h+1];if(P){const T=a-M.mealMinutes,E=P.mealMinutes-a;if(T<=E)return h}else return h}return 0},[c,t]),d=m!==0?m:n,r=c[d],j=o.useMemo(()=>r?new Set(t.map(a=>a.meal_type)).has(r.meal_type):!1,[r,t]),w=()=>{l(x=>{const a=d-1;return a<0?c.length-1:a})},C=()=>{l(x=>{const a=d+1;return a>=c.length?0:a})},_=()=>{i("/patient/add-meal",{state:{mealType:r.meal_type,mealTime:r.timeStr,mealName:r.name,recommendedFoods:r.meal_plan_foods}})};return!r||c.length===0?e.jsxs("div",{className:"text-center py-8",children:[e.jsx(R,{className:"mx-auto h-12 w-12 text-muted-foreground mb-3"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Nenhuma refei√ß√£o com hor√°rio definido."})]}):e.jsxs("div",{className:"space-y-4",children:[j&&e.jsxs("div",{className:"flex items-center gap-2 p-3 bg-green-50 border border-green-200 rounded-lg",children:[e.jsx(ce,{className:"w-5 h-5 text-green-600 flex-shrink-0"}),e.jsx("p",{className:"text-sm text-green-800",children:"Voc√™ j√° registrou esta refei√ß√£o!"})]}),e.jsxs("div",{className:"border-l-4 border-primary pl-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsx("h4",{className:"font-semibold text-lg text-foreground",children:le(r.meal_type)}),e.jsxs("div",{className:"flex items-center gap-1 text-primary",children:[e.jsx(de,{className:"w-4 h-4"}),e.jsx("span",{className:"text-sm font-medium",children:r.timeStr})]})]}),r.name&&e.jsx("p",{className:"text-sm text-muted-foreground mb-3 italic",children:r.name}),r.meal_plan_foods&&r.meal_plan_foods.length>0?e.jsx("ul",{className:"space-y-2 mb-4",children:r.meal_plan_foods.map((x,a)=>e.jsxs("li",{className:"flex justify-between items-center gap-3 text-sm",children:[e.jsxs("span",{className:"text-foreground flex-1 min-w-0",children:["‚Ä¢ ",x.foods?.name||"Alimento sem nome"]}),e.jsxs("span",{className:"font-medium text-primary whitespace-nowrap flex-shrink-0 text-right",children:[x.quantity," ",oe(x.unit)]})]},a))}):e.jsx("p",{className:"text-xs text-muted-foreground italic mb-4",children:"Nenhum alimento cadastrado"}),!j&&e.jsxs(v,{onClick:_,className:"w-full mt-2",size:"sm",children:[e.jsx(me,{className:"w-4 h-4 mr-2"}),"Registrar Esta Refei√ß√£o"]})]}),c.length>1&&e.jsxs("div",{className:"flex items-center justify-between pt-3 border-t",children:[e.jsxs(v,{variant:"ghost",size:"sm",onClick:w,className:"text-muted-foreground hover:text-primary",children:[e.jsx(xe,{className:"w-4 h-4 mr-1"}),"Anterior"]}),e.jsxs("span",{className:"text-xs text-muted-foreground",children:[d+1," de ",c.length]}),e.jsxs(v,{variant:"ghost",size:"sm",onClick:C,className:"text-muted-foreground hover:text-primary",children:["Pr√≥xima",e.jsx(te,{className:"w-4 h-4 ml-1"})]})]})]})};function z(){const{user:s}=G(),t=W(),[i,m]=o.useState(null),[l,c]=o.useState(null),[n,d]=o.useState(null),[r,j]=o.useState(!0);if(o.useEffect(()=>{(async()=>{if(!s)return;j(!0);const{data:a}=await S.from("growth_records").select("weight, record_date").eq("patient_id",s.id).order("record_date",{ascending:!1}).limit(2);if(a&&a.length>0&&(m(a[0]),a.length===2)){const u=a[0].weight-a[1].weight;u>.5?d("up"):u<-.5?d("down"):d("stable")}c(null),j(!1)})()},[s]),r)return e.jsx(f,{className:"shadow-sm hover:shadow-md transition-shadow cursor-pointer bg-gradient-to-br from-primary/5 to-primary/10",children:e.jsx(g,{className:"pt-6",children:e.jsx("div",{className:"flex items-center justify-center h-32",children:e.jsx(U,{className:"w-8 h-8 text-primary animate-pulse"})})})});const w=()=>n==="up"?H:n==="down"?he:pe,C=()=>n==="up"?"text-red-500":n==="down"?"text-green-500":"text-gray-500",_=w();return e.jsx(p.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},onClick:()=>t("/patient/progresso"),className:"cursor-pointer",children:e.jsxs(f,{className:"shadow-sm hover:shadow-md transition-all duration-200 bg-white border-primary/20",children:[e.jsx(N,{className:"pb-3",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs(b,{className:"text-lg text-primary flex items-center gap-2",children:[e.jsx(U,{className:"w-5 h-5"}),"Meus Indicadores"]}),i&&e.jsx(_,{className:`w-5 h-5 ${C()}`})]})}),e.jsxs(g,{children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"flex flex-col items-center justify-center p-4 bg-primary/5 rounded-lg",children:[e.jsx(ue,{className:"w-6 h-6 text-primary mb-2"}),i?e.jsxs(e.Fragment,{children:[e.jsxs("p",{className:"text-2xl font-bold text-primary",children:[i.weight,e.jsx("span",{className:"text-sm font-normal ml-1",children:"kg"})]}),e.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Peso atual"})]}):e.jsxs(e.Fragment,{children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:"--"}),e.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Sem registro"})]})]}),e.jsxs("div",{className:"flex flex-col items-center justify-center p-4 bg-secondary/5 rounded-lg",children:[e.jsx(Q,{className:"w-6 h-6 text-secondary mb-2"}),l?e.jsxs(e.Fragment,{children:[e.jsxs("p",{className:"text-2xl font-bold text-secondary",children:[l.glycemia_value,e.jsx("span",{className:"text-sm font-normal ml-1",children:"mg/dL"})]}),e.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Glicemia"})]}):e.jsxs(e.Fragment,{children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:"--"}),e.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Sem registro"})]})]})]}),e.jsx("div",{className:"mt-4 text-center",children:e.jsx("p",{className:"text-xs text-primary font-medium",children:"Toque para ver todos os gr√°ficos ‚Üí"})})]})]})})}const Ce=({percentage:s,size:t=120,strokeWidth:i=10})=>{const m=(t-i)/2,l=m*2*Math.PI,c=l-s/100*l,n=()=>s===0?"#d1d5db":s>=90?"#22c55e":s>=50?"#eab308":"#f97316",d=()=>s===0?"text-muted/10":"text-muted/20";return e.jsxs("div",{className:"relative inline-flex items-center justify-center",children:[e.jsxs("svg",{width:t,height:t,className:"transform -rotate-90",children:[e.jsx("circle",{cx:t/2,cy:t/2,r:m,stroke:"currentColor",strokeWidth:i,fill:"none",className:d()}),e.jsx("circle",{cx:t/2,cy:t/2,r:m,stroke:n(),strokeWidth:i,fill:"none",strokeDasharray:l,strokeDashoffset:c,strokeLinecap:"round",className:"transition-all duration-500 ease-out"})]}),e.jsxs("div",{className:"absolute inset-0 flex flex-col items-center justify-center",children:[e.jsxs("span",{className:`text-2xl md:text-3xl font-bold ${s===0?"text-muted-foreground":"text-foreground"}`,children:[Math.round(s),"%"]}),e.jsx("span",{className:"text-xs text-muted-foreground mt-0.5",children:"do dia"})]})]})},F=({icon:s,label:t,current:i,goal:m,unit:l,iconColor:c,progressColor:n})=>{const d=m>0?Math.min(Math.round(i/m*100),100):0;return e.jsx(f,{className:"border border-muted/30 hover:border-primary/30 transition-colors overflow-hidden",children:e.jsxs(g,{className:"p-2 md:p-3 space-y-2",children:[e.jsxs("div",{className:"flex items-center justify-between gap-1 min-w-0",children:[e.jsxs("div",{className:"flex items-center gap-1 min-w-0 flex-1",children:[e.jsx("div",{className:`p-1 md:p-1.5 rounded-lg flex-shrink-0 ${c}`,children:e.jsx(s,{className:"w-3 h-3 text-white"})}),e.jsx("span",{className:"text-xs font-medium text-muted-foreground truncate",children:t})]}),e.jsxs("span",{className:"text-xs text-muted-foreground font-semibold flex-shrink-0",children:[d,"%"]})]}),e.jsxs("div",{className:"space-y-1 min-w-0",children:[e.jsxs("div",{className:"flex items-baseline gap-0.5 min-w-0",children:[e.jsx("span",{className:"text-base md:text-lg font-bold text-foreground truncate",children:Math.round(i)}),e.jsxs("span",{className:"text-xs text-muted-foreground truncate flex-shrink-0",children:["/",Math.round(m),l]})]}),e.jsx(fe,{value:d,className:"h-1 bg-slate-200",indicatorClassName:n})]})]})})};function _e({goal:s,current:t}){if(!s||!t)return null;const i=s.calories>0?Math.min(Math.round(t.calories/s.calories*100),100):0,l=i>=90?{icon:"üéâ",text:"Parab√©ns! Voc√™ est√° quase l√°!",color:"text-green-600"}:i>=50?{icon:"üí™",text:"Continue assim! Voc√™ j√° est√° na metade do caminho.",color:"text-yellow-600"}:i>0?{icon:"üöÄ",text:"√ìtimo come√ßo! Continue registrando suas refei√ß√µes.",color:"text-orange-600"}:{icon:"üìù",text:"Comece registrando suas refei√ß√µes para acompanhar seu progresso.",color:"text-muted-foreground"};return e.jsxs(f,{className:"shadow-card-dark rounded-xl border-primary/20 bg-gradient-to-br from-primary/5 via-background to-primary/5",children:[e.jsx(N,{className:"pb-3",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(H,{className:"w-5 h-5 text-primary"}),e.jsx(b,{className:"text-base md:text-lg font-semibold text-primary",children:"Progresso Di√°rio"})]}),e.jsxs("div",{className:"px-2.5 py-1 rounded-full bg-primary text-primary-foreground text-xs font-semibold",children:[i,"%"]})]})}),e.jsxs(g,{className:"space-y-4",children:[e.jsx(f,{className:"border border-primary/30 bg-gradient-to-br from-orange-50/50 to-amber-50/50 dark:from-orange-950/20 dark:to-amber-950/20",children:e.jsx(g,{className:"p-4",children:e.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-between gap-4",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx(Ce,{percentage:i,size:120,strokeWidth:10})}),e.jsxs("div",{className:"flex-1 space-y-3 text-center sm:text-left w-full",children:[e.jsxs("div",{className:"flex items-center gap-2 justify-center sm:justify-start",children:[e.jsx("div",{className:"p-2 rounded-xl bg-gradient-to-br from-orange-500 to-red-500",children:e.jsx(X,{className:"w-5 h-5 text-white"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-xs font-medium text-muted-foreground uppercase tracking-wide",children:"Calorias"}),e.jsxs("p",{className:"text-2xl md:text-3xl font-bold text-foreground",children:[Math.round(t.calories),e.jsxs("span",{className:"text-base md:text-lg text-muted-foreground font-normal",children:[" ","/ ",Math.round(s.calories)," kcal"]})]})]})]}),e.jsxs("div",{className:`flex items-center gap-2 justify-center sm:justify-start ${l.color}`,children:[e.jsx("span",{className:"text-base",children:l.icon}),e.jsx("p",{className:"text-xs md:text-sm font-medium",children:l.text})]})]})]})})}),e.jsxs("div",{className:"grid grid-cols-3 gap-2 md:gap-4",children:[e.jsx(F,{icon:ge,label:"Prote√≠nas",current:t.protein,goal:s.protein,unit:"g",iconColor:"bg-gradient-to-br from-sky-500 to-sky-600",progressColor:"bg-sky-500"}),e.jsx(F,{icon:je,label:"Carboidratos",current:t.carbs,goal:s.carbs,unit:"g",iconColor:"bg-gradient-to-br from-orange-500 to-orange-600",progressColor:"bg-orange-500"}),e.jsx(F,{icon:Q,label:"Gorduras",current:t.fat,goal:s.fat,unit:"g",iconColor:"bg-gradient-to-br from-yellow-400 to-yellow-500",progressColor:"bg-yellow-400"})]})]})]})}const Me={trophy:K,award:V,target:be,flame:X,star:Ne,trending_up:H};function Z(){const{user:s}=G(),[t,i]=o.useState([]),[m,l]=o.useState(!0);o.useEffect(()=>{(async()=>{if(!s)return;l(!0);const{data:d,error:r}=await S.from("user_achievements").select(`
          achieved_at,
          achievements (
            name,
            description,
            icon_name
          )
        `).eq("user_id",s.id).order("achieved_at",{ascending:!1}).limit(3);r?console.error("Erro ao buscar conquistas:",r):i(d||[]),l(!1)})()},[s]);const c=n=>Me[n]||V;return e.jsxs(f,{children:[e.jsx(N,{children:e.jsxs(b,{className:"flex items-center gap-2",children:[e.jsx(K,{className:"w-5 h-5 text-yellow-500"}),"√öltimas Conquistas"]})}),e.jsx(g,{children:m?e.jsx("p",{className:"text-sm text-muted-foreground",children:"Carregando..."}):t.length>0?e.jsx("div",{className:"space-y-3",children:t.map((n,d)=>{const r=n.achievements,j=c(r.icon_name);return e.jsxs("div",{className:"flex items-start gap-3 p-3 rounded-lg bg-gradient-to-r from-yellow-50 to-amber-50 border border-yellow-200",children:[e.jsx("div",{className:"p-2 bg-yellow-500 rounded-full flex-shrink-0",children:e.jsx(j,{className:"w-4 h-4 text-white"})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"font-semibold text-sm text-foreground",children:r.name}),e.jsx("p",{className:"text-xs text-muted-foreground mt-0.5",children:r.description}),e.jsx("p",{className:"text-xs text-muted-foreground/80 mt-1",children:I(new Date(n.achieved_at),"dd 'de' MMMM",{locale:B})})]})]},d)})}):e.jsxs("div",{className:"text-center py-6",children:[e.jsx(V,{className:"w-12 h-12 text-muted-foreground/30 mx-auto mb-2"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Continue registrando para desbloquear conquistas!"})]})}),e.jsx(ae,{children:e.jsx(v,{variant:"outline",size:"sm",asChild:!0,className:"w-full",children:e.jsx(re,{to:"/patient/conquistas",children:"Ver todas as conquistas"})})})]})}function Qe(){const{user:s}=G(),t=W(),[i,m]=o.useState(null),[l,c]=o.useState(null),[n,d]=o.useState(0),[r,j]=o.useState([]),[w,C]=o.useState(null),[_,x]=o.useState(null),[a,u]=o.useState(!0),[h,M]=o.useState(!1),{unreadCount:P}=ye(),T=o.useCallback(async()=>{if(!s)return;u(!0);const k=new Date,L=I(k,"yyyy-MM-dd"),{data:y,error:ke}=await S.from("meal_plans").select(`
        *,
        meal_plan_meals (
          *,
          meal_plan_foods (
            *,
            foods (id, name)
          )
        )
      `).eq("patient_id",s.id).eq("is_active",!0).lte("start_date",L).or(`end_date.is.null,end_date.gte.${L}`).maybeSingle();m(y);const{data:Y}=await S.from("appointments").select("*").eq("patient_id",s.id).gte("start_time",k.toISOString()).order("start_time",{ascending:!0}).limit(1).maybeSingle();c(Y);const{data:q,count:ee}=await S.from("meals").select("*",{count:"exact"}).eq("patient_id",s.id).eq("meal_date",L).is("deleted_at",null);if(d(ee||0),j(q||[]),y&&y.daily_calories>0?C({calories:y.daily_calories||0,protein:y.daily_protein||0,carbs:y.daily_carbs||0,fat:y.daily_fat||0}):C({calories:2e3,protein:0,carbs:0,fat:0}),q&&q.length>0){const se=q.reduce((D,A)=>({calories:D.calories+(A.total_calories||0),protein:D.protein+(A.total_protein||0),carbs:D.carbs+(A.total_carbs||0),fat:D.fat+(A.total_fat||0)}),{calories:0,protein:0,carbs:0,fat:0});x(se)}else x({calories:0,protein:0,carbs:0,fat:0});u(!1)},[s]);if(o.useEffect(()=>{T()},[T]),a)return e.jsx("div",{className:"flex items-center justify-center h-64",children:e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary"})});const E=s?.profile?.name?.split(" ")[0]||"Paciente";return e.jsxs("div",{className:"flex flex-col min-h-screen bg-background",children:[e.jsxs(p.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"max-w-7xl mx-auto w-full px-4 md:px-8 py-8",children:[e.jsxs("div",{className:"mb-8 flex items-start justify-between",children:[e.jsxs("div",{children:[e.jsxs("h2",{className:"text-3xl font-bold font-heading uppercase tracking-wide text-primary",children:["Ol√°, ",E,"! üëã"]}),e.jsx("p",{className:"text-neutral-600 mt-1",children:I(new Date,"EEEE, dd 'de' MMMM",{locale:B})})]}),e.jsxs(v,{variant:"ghost",size:"icon",onClick:()=>M(!0),className:"relative -mt-1",children:[e.jsx(ie,{className:"w-6 h-6 text-gray-700"}),P>0&&e.jsx("span",{className:"absolute top-1 right-1 w-2 h-2 bg-red-500 rounded-full"})]})]}),l&&e.jsx(p.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"mb-6",children:e.jsxs(f,{className:"bg-blue-50 border-blue-200 shadow-card",children:[e.jsx(N,{className:"pb-3",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(ve,{className:"w-5 h-5 text-blue-600"}),e.jsx(b,{className:"text-lg text-blue-900",children:"Pr√≥xima Consulta"})]})}),e.jsx(g,{children:e.jsx("p",{className:"text-sm font-medium text-blue-900",children:I(new Date(l.start_time||l.appointment_time),"dd 'de' MMMM '√†s' HH:mm",{locale:B})})})]})}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[e.jsx(p.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},children:e.jsxs(f,{className:"shadow-card-dark rounded-xl bg-card cursor-pointer hover:shadow-lg transition-shadow border-2 border-primary/20",onClick:()=>t("/patient/diario"),children:[e.jsxs(N,{className:"pb-3",children:[e.jsx("div",{className:"flex items-center justify-between",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(R,{className:"w-5 h-5 text-primary"}),e.jsx(b,{className:"text-lg font-semibold",children:"Registrar Alimenta√ß√£o"})]})}),e.jsx(O,{children:"Registre suas refei√ß√µes do dia"})]}),e.jsxs(g,{children:[e.jsx("p",{className:"text-sm text-muted-foreground mb-3",children:"Adicione alimentos e quantidades para suas refei√ß√µes"}),e.jsxs(v,{size:"sm",className:"w-full bg-primary hover:bg-primary/90",onClick:k=>{k.stopPropagation(),t("/patient/diario")},children:[e.jsx(R,{className:"w-4 h-4 mr-2"}),"Registrar Refei√ß√£o"]})]})]})}),e.jsx(p.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},children:e.jsxs(f,{className:"shadow-card-dark rounded-xl bg-card",children:[e.jsxs(N,{className:"pb-3",children:[e.jsx("div",{className:"flex items-center justify-between",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx($,{className:"w-5 h-5 text-primary"}),e.jsx(b,{className:"text-lg font-semibold",children:"Plano Alimentar"})]})}),e.jsx(O,{children:"Veja o que est√° planejado para suas refei√ß√µes"})]}),e.jsx(g,{children:i?.meal_plan_meals&&i.meal_plan_meals.length>0?e.jsx(we,{mealPlanMeals:i.meal_plan_meals,registeredMeals:r}):e.jsxs("div",{className:"text-center py-8",children:[e.jsx(R,{className:"mx-auto h-12 w-12 text-muted-foreground mb-3"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Nenhum plano alimentar ativo no momento."}),e.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Entre em contato com seu nutricionista."})]})})]})}),w&&_&&e.jsx(p.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},children:e.jsx(_e,{goal:w,current:_})}),e.jsx(p.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.35},className:"lg:hidden",children:e.jsx(Z,{})}),e.jsx(p.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},children:e.jsxs(f,{className:"shadow-card-dark rounded-xl bg-card cursor-pointer hover:shadow-lg transition-shadow",onClick:()=>t("/patient/diario"),children:[e.jsx(N,{className:"pb-3",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx($,{className:"w-5 h-5 text-primary"}),e.jsx(b,{className:"text-base font-semibold",children:"Di√°rio Alimentar"})]}),e.jsx("div",{className:`px-3 py-1 rounded-full text-xs font-semibold ${n>0?"bg-primary/10 text-primary":"bg-gray-100 text-gray-500"}`,children:n>0?`${n} ${n===1?"refei√ß√£o":"refei√ß√µes"}`:"Vazio"})]})}),e.jsxs(g,{children:[e.jsx("p",{className:"text-sm text-muted-foreground mb-3",children:n>0?"Continue registrando suas refei√ß√µes":"Comece registrando sua primeira refei√ß√£o hoje"}),e.jsxs(v,{size:"sm",className:"w-full",onClick:k=>{k.stopPropagation(),t("/patient/diario")},children:[e.jsx($,{className:"w-4 h-4 mr-2"}),n>0?"Ver di√°rio":"Registrar agora"]})]})]})}),e.jsx("div",{className:"lg:hidden",children:e.jsx(p.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.5},children:e.jsx(z,{})})})]}),e.jsxs("div",{className:"hidden lg:block lg:col-span-1 space-y-6",children:[e.jsx(z,{}),e.jsx(p.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.5},children:e.jsx(Z,{})})]})]})]}),e.jsx(ne,{isOpen:h,setIsOpen:M})]})}export{Qe as default};
