import{j as e,C as c,c as x,d as m,w as h,e as g,F as f}from"./index-DL6VMzkS.js";import{R as N,T as v,p as k,q as w}from"./generateCategoricalChart-BeBeaROZ.js";import{a as C,L as M}from"./LineChart-Ds2xIaS5.js";import{C as D}from"./CartesianGrid-DX2Bqgyk.js";import{X as T,Y as y}from"./YAxis-C-gR2Z5k.js";import{M as A}from"./minus-CrcBRv1E.js";import{T as L}from"./trending-up-D1f-Js4G.js";import{T as P}from"./trending-down-BFB1Ewdl.js";import{p as R}from"./pt-BR-faZp8-Xc.js";const Y=({data:i=[],goalWeight:o=null})=>{if(i.length===0)return e.jsxs(c,{children:[e.jsxs(x,{children:[e.jsx(m,{children:"Evolução de Peso"}),e.jsx(h,{children:"Acompanhamento do peso ao longo do tempo"})]}),e.jsx(g,{children:e.jsx("div",{className:"h-[300px] flex items-center justify-center text-muted-foreground",children:"Sem dados para exibir o gráfico"})})]});const r=i.map(t=>({date:f(new Date(t.record_date),"dd/MM/yy"),fullDate:f(new Date(t.record_date),"dd 'de' MMM",{locale:R}),weight:parseFloat(t.weight),originalDate:t.record_date})),l=r[0]?.weight,d=r[r.length-1]?.weight,a=d-l,u=Math.min(...r.map(t=>t.weight)),p=Math.max(...r.map(t=>t.weight)),s=Math.abs(a)<.5?{icon:A,color:"text-gray-600",label:"Estável",value:a.toFixed(1)}:a>0?{icon:L,color:"text-red-600",label:"Aumento",value:`+${a.toFixed(1)}`}:{icon:P,color:"text-green-600",label:"Redução",value:a.toFixed(1)},j=s.icon,b=({active:t,payload:n})=>t&&n&&n.length?e.jsxs("div",{className:"bg-background border border-border rounded-lg p-3 shadow-lg",children:[e.jsx("p",{className:"text-sm font-semibold",children:n[0].payload.fullDate}),e.jsxs("p",{className:"text-sm text-muted-foreground",children:["Peso: ",e.jsxs("span",{className:"font-bold text-foreground",children:[n[0].value," kg"]})]}),o&&e.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:["Meta: ",o," kg"]})]}):null;return e.jsxs(c,{children:[e.jsx(x,{children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{children:[e.jsx(m,{children:"Evolução de Peso"}),e.jsx(h,{children:"Acompanhamento do peso ao longo do tempo"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(j,{className:`w-5 h-5 ${s.color}`}),e.jsxs("div",{className:"text-right",children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:s.label}),e.jsxs("p",{className:`text-lg font-bold ${s.color}`,children:[s.value," kg"]})]})]})]})}),e.jsxs(g,{children:[e.jsx(N,{width:"100%",height:300,children:e.jsxs(C,{data:r,margin:{top:5,right:20,left:0,bottom:5},children:[e.jsx(D,{strokeDasharray:"3 3",className:"stroke-muted"}),e.jsx(T,{dataKey:"date",tick:{fontSize:12},className:"text-muted-foreground"}),e.jsx(y,{domain:[u-2,p+2],tick:{fontSize:12},className:"text-muted-foreground",label:{value:"Peso (kg)",angle:-90,position:"insideLeft",fontSize:12}}),e.jsx(v,{content:e.jsx(b,{})}),e.jsx(k,{}),o&&e.jsx(w,{y:o,stroke:"#10b981",strokeDasharray:"5 5",label:{value:`Meta: ${o} kg`,position:"right",fontSize:12,fill:"#10b981"}}),e.jsx(M,{type:"monotone",dataKey:"weight",name:"Peso",stroke:"#3b82f6",strokeWidth:2,dot:{fill:"#3b82f6",r:4},activeDot:{r:6}})]})}),e.jsxs("div",{className:"grid grid-cols-3 gap-4 mt-4 pt-4 border-t",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-xs text-muted-foreground",children:"Primeiro"}),e.jsxs("p",{className:"text-lg font-semibold",children:[l," kg"]})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-xs text-muted-foreground",children:"Atual"}),e.jsxs("p",{className:"text-lg font-semibold",children:[d," kg"]})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-xs text-muted-foreground",children:"Variação"}),e.jsxs("p",{className:`text-lg font-semibold ${s.color}`,children:[s.value," kg"]})]})]})]})]})};export{Y as W};
