const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/meal-plan-queries-CiET4OPt.js","assets/index-BvWB-6Y-.js","assets/index-KM88qbUC.css","assets/nutrition-calculations-DjYFS08l.js","assets/date-C2sroe8F.js","assets/query-helpers-mbysFH2_.js","assets/observability-queries-BxbsnaqH.js"])))=>i.map(i=>d[i]);
import{r,aA as ce,j as e,J as ue,K as xe,M as he,N as pe,ad as ge,B as C,L as fe,O as je,X as be,u as Ne,b as ve,bp as _e,a as ye,F as Z,s as S,C as $,c as ee,d as se,w as ie,e as ae,T as we}from"./index-BvWB-6Y-.js";import{I as le}from"./input-OBodSLFw.js";import{T as Se}from"./date-input-NufpG6-F.js";import{L as A}from"./label-Dds-NHUC.js";import{T as de}from"./textarea-DCWQIVw9.js";import{t as Ce}from"./mealTranslations-B1KHhmEq.js";import{f as ne}from"./measureTranslations-AG6EuUvS.js";import{S as Fe,a as qe,b as Ae,c as Ee,d as oe}from"./select-CHitR1r5.js";import{A as Me,a as Te}from"./alert-BZscs13a.js";import{s as De}from"./foodService-BaXPLfK4.js";import{u as ke}from"./useDebounce-BaDvLWlZ.js";import{S as Pe}from"./search-DAzfs9rU.js";import{P as me}from"./plus-BWNKYoo4.js";import{A as Re}from"./arrow-left-c5Ho3YFj.js";import{C as ze}from"./clock-BDxmKYor.js";import{M as Le}from"./message-square-d4PysXqo.js";import{S as Ie}from"./save-BW9rbxWl.js";import"./calendar-rgGv7qqU.js";import"./endOfMonth-Ca9QmV5D.js";import"./addMonths-hOFFPW3g.js";import"./isSameDay-CSO39H9U.js";import"./chevron-left-FDyjizdT.js";import"./popover-BK70NwGK.js";import"./extends-CF3RwP-h.js";import"./pt-BR-BMtVLtF7.js";import"./parseISO-DtrTOw4I.js";import"./query-helpers-mbysFH2_.js";const Oe=({isOpen:I,onClose:O,onAdd:te,initialFood:u=null,mode:F="add"})=>{const[l,H]=r.useState(null),[d,h]=r.useState(""),[m,p]=r.useState("g"),[v,b]=r.useState(null),[V,E]=r.useState(""),[f,x]=r.useState(null),[_,M]=r.useState(null),[q,X]=r.useState({}),[T,R]=r.useState(""),[z,y]=r.useState([]),[D,B]=r.useState(!1),[G,Q]=r.useState(0),[U,k]=r.useState(!1),[W,J]=r.useState(!1),Y=r.useRef(null),n=ke(T,500);r.useEffect(()=>{if(u&&F==="edit"){if(H(u),h(u.quantity?.toString()||""),u.unit&&u.unit!=="g"){const a=u.food_measures?.find(c=>c.measure_label===u.unit);a?(b(a),p(a.id.toString())):p("g")}else p("g");E(u.notes||"")}},[u,F]);const K=r.useCallback(async(a=0,c=!1)=>{if(!n.trim()||n.length<2){y([]),k(!1);return}c&&a>0?J(!0):B(!0);try{const P=await De(n,a);y(c?re=>[...re,...P.data]:P.data),k(P.hasMore)}catch(P){console.error("Erro ao buscar alimentos:",P),c||y([]),k(!1)}finally{B(!1),J(!1)}},[n]);r.useEffect(()=>{Q(0),y([]),n.trim().length>=2?K(0,!1):(y([]),k(!1))},[n]);const s=r.useCallback(()=>{if(U&&!D&&!W){const a=G+1;Q(a),K(a,!0)}},[U,D,W,G,K]);r.useEffect(()=>{const a=new IntersectionObserver(L=>{L[0].isIntersecting&&s()},{threshold:.1}),c=Y.current;return c&&a.observe(c),()=>{c&&a.unobserve(c)}},[s]);const i=a=>{H(a),R(""),y([]),h(""),p("g"),b(null),x(null),M(null)},o=r.useCallback(async()=>{if(!l||!d||parseFloat(d)<=0){x(null),M(null);return}const a=parseFloat(d);let c=0;m==="g"?c=a:v?c=a*parseFloat(v.quantity_grams):c=a;const{calculateNutrition:L}=await ce(async()=>{const{calculateNutrition:re}=await import("./nutrition-calculations-DjYFS08l.js");return{calculateNutrition:re}},[]),P=L(l,c);x(P),M(c)},[l,d,m,v]);r.useEffect(()=>{l&&d&&parseFloat(d)>0?o():(x(null),M(null))},[l,d,m,v,o]);const g=a=>{if(p(a),a==="g")b(null);else{const c=l?.food_measures?.find(L=>L.id.toString()===a);b(c||null)}},N=()=>{const a={};return l||(a.food="Selecione um alimento"),(!d||parseFloat(d)<=0)&&(a.quantity="Quantidade deve ser maior que zero"),m||(a.unit="Selecione uma medida"),X(a),Object.keys(a).length===0},t=()=>{if(!N())return;const a={id:Date.now(),food_id:l.id,food_name:l.name,quantity:parseFloat(d),unit:m==="g"?"g":v?.measure_label||"g",measure:v,base_calories:l.calories||0,base_protein:l.protein||0,base_carbs:l.carbs||0,base_fat:l.fat||0,calories:f?.calories||0,protein:f?.protein||0,carbs:f?.carbs||0,fat:f?.fat||0,notes:V.trim()||null};F==="edit"&&u?.list_item_id&&(a.list_item_id=u.list_item_id),te(a),w()},w=()=>{H(null),h(""),p("g"),b(null),E(""),x(null),M(null),X({}),R(""),y([]),Q(0),k(!1),J(!1),O()},j=F==="add"&&!l;return e.jsx(ue,{open:I,onOpenChange:w,children:e.jsxs(xe,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[e.jsxs(he,{children:[e.jsx(pe,{children:F==="edit"?"Editar Alimento":"Adicionar Alimento"}),e.jsx(ge,{children:"Use medidas caseiras para facilitar o registro"})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsxs(A,{children:["Alimento ",e.jsx("span",{className:"text-destructive",children:"*"})]}),l?e.jsxs("div",{className:"flex items-center gap-2 p-3 border rounded-lg bg-muted/50",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:"font-semibold",children:l.name}),l.group&&e.jsx("div",{className:"text-sm text-muted-foreground",children:l.group}),e.jsxs("div",{className:"text-xs text-muted-foreground mt-1",children:["Base 100g: ",l.calories," kcal | P: ",l.protein,"g | C: ",l.carbs,"g | G: ",l.fat,"g"]})]}),F!=="edit"&&e.jsx(C,{variant:"ghost",size:"sm",onClick:()=>H(null),children:"Trocar"})]}):j?e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"relative",children:[e.jsx(Pe,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),e.jsx(le,{placeholder:"Buscar alimento...",value:T,onChange:a=>R(a.target.value),className:"pl-10"})]}),T.length>=2&&e.jsx("div",{className:"border rounded-lg max-h-60 overflow-y-auto",children:D&&z.length===0?e.jsx("div",{className:"divide-y",children:[...Array(3)].map((a,c)=>e.jsxs("div",{className:"p-3 animate-pulse",children:[e.jsx("div",{className:"h-4 bg-muted rounded w-3/4 mb-2"}),e.jsx("div",{className:"h-3 bg-muted rounded w-1/2"})]},c))}):z.length===0&&!D?e.jsx("div",{className:"p-4 text-center text-muted-foreground",children:"Nenhum alimento encontrado"}):e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"divide-y",children:z.map(a=>e.jsxs("div",{className:"p-3 hover:bg-accent cursor-pointer transition-colors",onClick:()=>i(a),children:[e.jsx("div",{className:"font-medium",children:a.name}),e.jsxs("div",{className:"text-xs text-muted-foreground",children:[a.group," â€¢ ",a.calories," kcal/100g"]})]},a.id))}),U&&e.jsx("div",{ref:Y,className:"p-3 text-center",children:W?e.jsxs("div",{className:"flex items-center justify-center gap-2 text-muted-foreground",children:[e.jsx(fe,{className:"w-4 h-4 animate-spin"}),e.jsx("span",{className:"text-xs",children:"Carregando mais..."})]}):e.jsx(C,{variant:"ghost",size:"sm",onClick:s,className:"text-xs",children:"Carregar mais"})})]})})]}):null,q.food&&e.jsx("p",{className:"text-xs text-destructive",children:q.food})]}),l&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsxs(A,{htmlFor:"quantity",children:["Quantidade ",e.jsx("span",{className:"text-destructive",children:"*"})]}),e.jsx(le,{id:"quantity",type:"number",step:"0.1",min:"0",placeholder:"Ex: 2",value:d,onChange:a=>h(a.target.value)}),q.quantity&&e.jsx("p",{className:"text-xs text-destructive",children:q.quantity})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(A,{children:["Medida ",e.jsx("span",{className:"text-destructive",children:"*"})]}),e.jsxs(Fe,{value:m,onValueChange:g,children:[e.jsx(qe,{children:e.jsx(Ae,{placeholder:"Selecione a medida"})}),e.jsxs(Ee,{children:[e.jsx(oe,{value:"g",children:"Gramas (g)"}),l.food_measures&&l.food_measures.length>0&&e.jsx(e.Fragment,{children:l.food_measures.map(a=>e.jsxs(oe,{value:a.id.toString(),children:[a.measure_label," (",a.quantity_grams,"g)"]},a.id))})]})]}),q.unit&&e.jsx("p",{className:"text-xs text-destructive",children:q.unit}),_&&m!=="g"&&v&&d&&e.jsx("div",{className:"mt-2 p-2 bg-primary/5 rounded-md border border-primary/20",children:e.jsxs("p",{className:"text-xs font-medium text-primary",children:[d," ",v.measure_label," = ",_.toFixed(1),"g"]})}),_&&m==="g"&&d&&e.jsx("div",{className:"mt-2 p-2 bg-muted/50 rounded-md",children:e.jsxs("p",{className:"text-xs text-muted-foreground",children:["Total: ",_.toFixed(1),"g"]})})]})]}),f&&e.jsx(Me,{className:"bg-primary/5",children:e.jsxs(Te,{children:[e.jsx("div",{className:"font-semibold mb-2",children:"Valores Nutricionais:"}),e.jsxs("div",{className:"grid grid-cols-4 gap-4 text-sm",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-muted-foreground",children:"Calorias"}),e.jsx("div",{className:"font-bold text-lg",children:f.calories}),e.jsx("div",{className:"text-xs text-muted-foreground",children:"kcal"})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-muted-foreground",children:"ProteÃ­nas"}),e.jsx("div",{className:"font-bold text-lg",children:f.protein}),e.jsx("div",{className:"text-xs text-muted-foreground",children:"g"})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-muted-foreground",children:"Carboidratos"}),e.jsx("div",{className:"font-bold text-lg",children:f.carbs}),e.jsx("div",{className:"text-xs text-muted-foreground",children:"g"})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-muted-foreground",children:"Gorduras"}),e.jsx("div",{className:"font-bold text-lg",children:f.fat}),e.jsx("div",{className:"text-xs text-muted-foreground",children:"g"})]})]})]})}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(A,{htmlFor:"notes",children:"ObservaÃ§Ãµes (opcional)"}),e.jsx(de,{id:"notes",rows:2,placeholder:"Ex: sem sal, bem cozido, etc.",value:V,onChange:a=>E(a.target.value)})]})]})]}),e.jsxs(je,{children:[e.jsxs(C,{variant:"outline",onClick:w,children:[e.jsx(be,{className:"h-4 w-4 mr-2"}),"Cancelar"]}),e.jsxs(C,{onClick:t,disabled:!l||!d||!m,children:[e.jsx(me,{className:"h-4 w-4 mr-2"}),F==="edit"?"Atualizar":"Adicionar"]})]})]})})};function hs(){const{user:I}=Ne(),O=ve(),te=_e(),{toast:u}=ye(),{mealType:F,mealTime:l,mealName:H,recommendedFoods:d=[],editMode:h=!1,mealId:m=null}=te.state||{},[p,v]=r.useState(F),[b,V]=r.useState(Z(new Date,"HH:mm")),[E,f]=r.useState(""),[x,_]=r.useState([]),[M,q]=r.useState(!1),[X,T]=r.useState(!1),[R,z]=r.useState("add"),[y,D]=r.useState(null),[B,G]=r.useState(!1);r.useEffect(()=>{h&&m&&Q()},[h,m]);const Q=async()=>{q(!0);try{const{data:s,error:i}=await S.from("meals").select("*").eq("id",m).is("deleted_at",null).single();if(i)throw i;const{data:o,error:g}=await S.from("meal_items").select("*").eq("meal_id",m);if(g)throw g;v(s.meal_type),V(s.meal_time||Z(new Date,"HH:mm")),f(s.notes||"");const N=await Promise.all(o.map(async(t,w)=>{const{data:j}=await S.from("foods").select("*").eq("id",t.food_id).single();return{id:t.id||Date.now()+w,food_id:t.food_id,food_name:t.name,quantity:t.quantity,unit:t.unit||"gram",measure:null,base_calories:j?.calories||0,base_protein:j?.protein||0,base_carbs:j?.carbs||0,base_fat:j?.fat||0,calories:t.calories,protein:t.protein,carbs:t.carbs,fat:t.fat}}));_(N)}catch(s){console.error("Erro ao carregar refeiÃ§Ã£o:",s),u({title:"Erro",description:"NÃ£o foi possÃ­vel carregar os dados da refeiÃ§Ã£o",variant:"destructive"})}finally{q(!1)}},U=()=>{D(null),z("add"),T(!0)},k=s=>{const i={id:s.food_id,name:s.food_name,calories:s.base_calories,protein:s.base_protein,carbs:s.base_carbs,fat:s.base_fat,quantity:s.quantity,unit:s.unit,measure:s.measure,notes:s.notes,list_item_id:s.id};D(i),z("edit"),T(!0)},W=s=>{R==="edit"&&s.list_item_id?_(i=>i.map(o=>o.id===s.list_item_id?{...s,id:s.list_item_id}:o)):_(i=>[...i,s])},J=s=>{_(i=>i.filter(o=>o.id!==s))},Y=async(s,i)=>{const o=x.find(j=>j.id===s);if(!o)return;const g=parseFloat(i);if(isNaN(g)||g<=0)return;const{calculateNutrition:N}=await ce(async()=>{const{calculateNutrition:j}=await import("./meal-plan-queries-CiET4OPt.js");return{calculateNutrition:j}},__vite__mapDeps([0,1,2,3,4,5,6])),t={calories:o.base_calories,protein:o.base_protein,carbs:o.base_carbs,fat:o.base_fat},w=await N(t,g,o.unit);_(j=>j.map(a=>a.id===s?{...a,quantity:g,calories:w.calories,protein:w.protein,carbs:w.carbs,fat:w.fat}:a))},n=x.reduce((s,i)=>({calories:s.calories+(parseFloat(i.calories)||0),protein:s.protein+(parseFloat(i.protein)||0),carbs:s.carbs+(parseFloat(i.carbs)||0),fat:s.fat+(parseFloat(i.fat)||0)}),{calories:0,protein:0,carbs:0,fat:0}),K=async()=>{if(x.length===0){u({title:"Erro",description:"Adicione pelo menos um alimento",variant:"destructive"});return}G(!0);try{const s=Z(new Date,"yyyy-MM-dd");if(h&&m){const{error:i}=await S.from("meals").update({meal_type:p,meal_time:b,notes:E,total_calories:n.calories,total_protein:n.protein,total_carbs:n.carbs,total_fat:n.fat}).eq("id",m);if(i)throw i;const{error:o}=await S.from("meal_items").delete().eq("meal_id",m);if(o)throw o;const g=x.map(t=>({meal_id:m,food_id:t.food_id,name:t.food_name,quantity:parseFloat(t.quantity)||0,unit:t.unit||"gram",calories:parseFloat(t.calories)||0,protein:parseFloat(t.protein)||0,carbs:parseFloat(t.carbs)||0,fat:parseFloat(t.fat)||0})),{error:N}=await S.from("meal_items").insert(g);if(N)throw N;await S.rpc("log_meal_action",{p_patient_id:I.id,p_meal_id:m,p_action:"update",p_meal_type:p,p_meal_date:Z(new Date,"yyyy-MM-dd"),p_meal_time:b,p_details:{total_calories:n.calories,total_protein:n.protein,total_carbs:n.carbs,total_fat:n.fat,items:x.map(t=>({food_id:t.food_id,name:t.food_name,quantity:t.quantity,unit:t.unit}))}}),u({title:"Sucesso!",description:"RefeiÃ§Ã£o atualizada com sucesso"})}else{const{data:i,error:o}=await S.from("meals").insert({patient_id:I.id,meal_type:p,meal_date:s,meal_time:b,notes:E,total_calories:n.calories,total_protein:n.protein,total_carbs:n.carbs,total_fat:n.fat}).select().single();if(o)throw o;const g=x.map(t=>({meal_id:i.id,food_id:t.food_id,name:t.food_name,quantity:parseFloat(t.quantity)||0,unit:t.unit||"gram",calories:parseFloat(t.calories)||0,protein:parseFloat(t.protein)||0,carbs:parseFloat(t.carbs)||0,fat:parseFloat(t.fat)||0})),{error:N}=await S.from("meal_items").insert(g);if(N)throw N;await S.rpc("log_meal_action",{p_patient_id:I.id,p_meal_id:i.id,p_action:"create",p_meal_type:p,p_meal_date:s,p_meal_time:b,p_details:{total_calories:n.calories,total_protein:n.protein,total_carbs:n.carbs,total_fat:n.fat,items:x.map(t=>({food_id:t.food_id,name:t.food_name,quantity:t.quantity,unit:t.unit}))}}),u({title:"Sucesso!",description:"RefeiÃ§Ã£o registrada com sucesso"})}O("/patient/diario")}catch(s){console.error("Erro ao salvar:",s),u({title:"Erro",description:"NÃ£o foi possÃ­vel salvar a refeiÃ§Ã£o",variant:"destructive"})}finally{G(!1)}};return h&&M?e.jsx("div",{className:"flex items-center justify-center min-h-screen",children:e.jsx("div",{className:"text-center",children:e.jsx("p",{className:"text-muted-foreground",children:"Carregando dados da refeiÃ§Ã£o..."})})}):!p&&!h?e.jsx("div",{className:"flex items-center justify-center min-h-screen",children:e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-muted-foreground mb-4",children:"Tipo de refeiÃ§Ã£o nÃ£o especificado"}),e.jsx(C,{onClick:()=>O("/patient/diario"),children:"Voltar ao Plano Alimentar"})]})}):e.jsxs("div",{className:"flex flex-col min-h-screen bg-background",children:[e.jsxs("div",{className:"max-w-7xl mx-auto w-full px-4 md:px-8 py-8",children:[e.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[e.jsx(C,{variant:"ghost",size:"icon",onClick:()=>O("/patient/diario"),children:e.jsx(Re,{className:"w-5 h-5"})}),e.jsxs("div",{children:[e.jsxs("h1",{className:"text-3xl font-bold text-foreground",children:[h?"Editar":"Registrar"," ",Ce(p)]}),e.jsx("p",{className:"text-muted-foreground mt-1",children:h?"Atualize os alimentos da refeiÃ§Ã£o":"Adicione os alimentos consumidos"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[d&&d.length>0&&e.jsxs($,{children:[e.jsxs(ee,{children:[e.jsx(se,{children:"RefeiÃ§Ã£o Planejada"}),e.jsx(ie,{children:"Visualize sua meta abaixo e busque os alimentos manualmente para registrar."})]}),e.jsxs(ae,{className:"space-y-2",children:[e.jsx("div",{className:"mb-3 p-3 bg-blue-50 border border-blue-200 rounded-lg",children:e.jsx("p",{className:"text-sm text-blue-900 font-medium",children:"ðŸ’¡ Visualize sua meta abaixo e busque os alimentos manualmente para registrar."})}),d.map((s,i)=>e.jsx("div",{className:"flex items-center justify-between p-3 bg-muted border border-border rounded-lg",children:e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"font-medium text-sm text-foreground",children:s.foods?.name}),e.jsx("p",{className:"text-xs text-muted-foreground",children:ne(s.quantity,s.unit,s.measure)})]})},i))]})]}),e.jsxs($,{children:[e.jsxs(ee,{children:[e.jsx(se,{children:"Adicionar Alimentos"}),e.jsx(ie,{children:"Busque e adicione outros alimentos usando medidas caseiras"})]}),e.jsx(ae,{children:e.jsxs(C,{onClick:U,className:"w-full",children:[e.jsx(me,{className:"w-4 h-4 mr-2"}),"Buscar Alimento"]})})]}),e.jsxs($,{children:[e.jsxs(ee,{children:[e.jsx(se,{children:"Alimentos Adicionados"}),e.jsx(ie,{children:"Configure as quantidades"})]}),e.jsx(ae,{className:"space-y-4",children:x.length===0?e.jsx("p",{className:"text-sm text-muted-foreground text-center py-8",children:"Nenhum alimento adicionado ainda"}):x.map(s=>e.jsxs("div",{className:"border rounded-lg p-4 space-y-3",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("p",{className:"font-medium",children:s.food_name}),e.jsx(C,{variant:"ghost",size:"icon",onClick:()=>J(s.id),children:e.jsx(we,{className:"w-4 h-4 text-destructive"})})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsxs("div",{children:[e.jsx(A,{className:"text-xs",children:"Quantidade"}),e.jsx(le,{type:"number",value:s.quantity,onChange:i=>Y(s.id,i.target.value),step:"0.1",min:"0",className:"h-9"})]}),e.jsxs("div",{children:[e.jsx(A,{className:"text-xs",children:"Medida"}),e.jsx("div",{className:"h-9 px-3 border rounded-md flex items-center bg-muted text-sm",children:ne(1,s.unit,s.measure).replace(/^\d+\s*/,"")})]})]}),e.jsxs("div",{className:"text-xs text-muted-foreground",children:[s.calories.toFixed(1)," kcal â€¢ P: ",s.protein.toFixed(1),"g â€¢ C: ",s.carbs.toFixed(1),"g â€¢ G: ",s.fat.toFixed(1),"g"]}),e.jsx(C,{variant:"outline",size:"sm",className:"w-full",onClick:()=>k(s),children:"Alterar Medida"}),s.notes&&e.jsx("p",{className:"text-xs text-muted-foreground italic",children:s.notes})]},s.id))})]})]}),e.jsx("div",{className:"lg:col-span-1",children:e.jsxs($,{className:"sticky top-4",children:[e.jsx(ee,{children:e.jsx(se,{className:"text-lg",children:"Resumo da RefeiÃ§Ã£o"})}),e.jsxs(ae,{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsxs(A,{className:"flex items-center gap-2 mb-2",children:[e.jsx(ze,{className:"w-4 h-4"}),"HorÃ¡rio"]}),e.jsx(Se,{value:b,onChange:s=>V(s)})]}),e.jsxs("div",{children:[e.jsxs(A,{className:"flex items-center gap-2 mb-2",children:[e.jsx(Le,{className:"w-4 h-4"}),"ObservaÃ§Ãµes"]}),e.jsx(de,{placeholder:"Adicione comentÃ¡rios sobre esta refeiÃ§Ã£o...",value:E,onChange:s=>f(s.target.value),rows:3})]}),e.jsxs("div",{className:"space-y-2 pt-4 border-t",children:[e.jsx("h4",{className:"font-semibold text-sm",children:"Totais Nutricionais"}),e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsxs("div",{className:"text-center p-3 bg-primary/5 rounded-lg",children:[e.jsx("p",{className:"text-2xl font-bold text-primary",children:Math.round(n.calories)}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Calorias"})]}),e.jsxs("div",{className:"text-center p-3 bg-blue-50 rounded-lg",children:[e.jsxs("p",{className:"text-lg font-bold text-blue-600",children:[Math.round(n.protein),"g"]}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"ProteÃ­nas"})]}),e.jsxs("div",{className:"text-center p-3 bg-orange-50 rounded-lg",children:[e.jsxs("p",{className:"text-lg font-bold text-orange-600",children:[Math.round(n.carbs),"g"]}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Carboidratos"})]}),e.jsxs("div",{className:"text-center p-3 bg-amber-50 rounded-lg",children:[e.jsxs("p",{className:"text-lg font-bold text-amber-600",children:[Math.round(n.fat),"g"]}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Gorduras"})]})]})]}),e.jsx(C,{className:"w-full",onClick:K,disabled:B||x.length===0,children:B?e.jsx(e.Fragment,{children:h?"Atualizando...":"Salvando..."}):e.jsxs(e.Fragment,{children:[e.jsx(Ie,{className:"w-4 h-4 mr-2"}),h?"Atualizar RefeiÃ§Ã£o":"Salvar RefeiÃ§Ã£o"]})})]})]})})]})]}),e.jsx(Oe,{isOpen:X,onClose:()=>T(!1),onAdd:W,initialFood:y,mode:R})]})}export{hs as default};
