import{j as e,C as c,c as x,d as m,w as h,e as g,O as u,H as N,ar as v}from"./index-DAnFA-vR.js";import{R as k,T as w,p as C,q as M}from"./generateCategoricalChart-uSIOd2Zf.js";import{a as D,L as T}from"./LineChart-Dz3rbcGy.js";import{C as y}from"./CartesianGrid-BZUOckFK.js";import{X as A,Y as L}from"./YAxis-Chd8Ul5Z.js";import{M as P}from"./minus-Duv_6DyQ.js";import{T as R}from"./trending-down-p6xMr0ur.js";const H=({data:i=[],goalWeight:a=null})=>{if(i.length===0)return e.jsxs(c,{children:[e.jsxs(x,{children:[e.jsx(m,{children:"Evolução de Peso"}),e.jsx(h,{children:"Acompanhamento do peso ao longo do tempo"})]}),e.jsx(g,{children:e.jsx("div",{className:"h-[300px] flex items-center justify-center text-muted-foreground",children:"Sem dados para exibir o gráfico"})})]});const r=i.map(t=>({date:u(new Date(t.record_date),"dd/MM/yy"),fullDate:u(new Date(t.record_date),"dd 'de' MMM",{locale:N}),weight:parseFloat(t.weight),originalDate:t.record_date})),l=r[0]?.weight,d=r[r.length-1]?.weight,o=d-l,f=Math.min(...r.map(t=>t.weight)),j=Math.max(...r.map(t=>t.weight)),s=Math.abs(o)<.5?{icon:P,color:"text-gray-600",label:"Estável",value:o.toFixed(1)}:o>0?{icon:v,color:"text-red-600",label:"Aumento",value:`+${o.toFixed(1)}`}:{icon:R,color:"text-green-600",label:"Redução",value:o.toFixed(1)},p=s.icon,b=({active:t,payload:n})=>t&&n&&n.length?e.jsxs("div",{className:"bg-background border border-border rounded-lg p-3 shadow-lg",children:[e.jsx("p",{className:"text-sm font-semibold",children:n[0].payload.fullDate}),e.jsxs("p",{className:"text-sm text-muted-foreground",children:["Peso: ",e.jsxs("span",{className:"font-bold text-foreground",children:[n[0].value," kg"]})]}),a&&e.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:["Meta: ",a," kg"]})]}):null;return e.jsxs(c,{children:[e.jsx(x,{children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{children:[e.jsx(m,{children:"Evolução de Peso"}),e.jsx(h,{children:"Acompanhamento do peso ao longo do tempo"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(p,{className:`w-5 h-5 ${s.color}`}),e.jsxs("div",{className:"text-right",children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:s.label}),e.jsxs("p",{className:`text-lg font-bold ${s.color}`,children:[s.value," kg"]})]})]})]})}),e.jsxs(g,{children:[e.jsx(k,{width:"100%",height:300,children:e.jsxs(D,{data:r,margin:{top:5,right:20,left:0,bottom:5},children:[e.jsx(y,{strokeDasharray:"3 3",className:"stroke-muted"}),e.jsx(A,{dataKey:"date",tick:{fontSize:12},className:"text-muted-foreground"}),e.jsx(L,{domain:[f-2,j+2],tick:{fontSize:12},className:"text-muted-foreground",label:{value:"Peso (kg)",angle:-90,position:"insideLeft",fontSize:12}}),e.jsx(w,{content:e.jsx(b,{})}),e.jsx(C,{}),a&&e.jsx(M,{y:a,stroke:"#10b981",strokeDasharray:"5 5",label:{value:`Meta: ${a} kg`,position:"right",fontSize:12,fill:"#10b981"}}),e.jsx(T,{type:"monotone",dataKey:"weight",name:"Peso",stroke:"#3b82f6",strokeWidth:2,dot:{fill:"#3b82f6",r:4},activeDot:{r:6}})]})}),e.jsxs("div",{className:"grid grid-cols-3 gap-4 mt-4 pt-4 border-t",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-xs text-muted-foreground",children:"Primeiro"}),e.jsxs("p",{className:"text-lg font-semibold",children:[l," kg"]})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-xs text-muted-foreground",children:"Atual"}),e.jsxs("p",{className:"text-lg font-semibold",children:[d," kg"]})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-xs text-muted-foreground",children:"Variação"}),e.jsxs("p",{className:`text-lg font-semibold ${s.color}`,children:[s.value," kg"]})]})]})]})]})};export{H as W};
